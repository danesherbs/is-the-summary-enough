<div class="space-y-8 p-2 pt-6">
  <div>
    <p class="text-xl font-medium">{{this.book.title}}</p>
    <p class="text-base">by {{this.book.author}}</p>
  </div>
  <div class="space-y-2">
    <p>Should you just read the summary? ({{this.totalVotes}} votes)</p>
    <p
      class="p-2 bg-green-400 text-white w-24 font-medium rounded"
      style="width: {{this.percentageYes}}%;"
    >
      Yes
      {{this.percentageYes}}%
    </p>
    <p
      class="p-2 bg-red-400 text-white w-96 font-medium rounded"
      style="width: {{this.percentageNo}}%;"
    >
      No
      {{this.percentageNo}}%
    </p>
  </div>
  <div class="space-y-2" x-data="{ hasVoted: {{this.hasVoted}} }">
    <p>🙋‍♀️ Cast your vote</p>

    <div class="flex justify-center w-full" x-show="hasVoted" x-cloak>
      <div class="text-blue-500 font-semibold">Thanks for voting! 👍</div>
    </div>

    <div class="space-y-2" x-show="!hasVoted" x-cloak>
      <button
        class="w-full px-4 py-1 bg-gray-100 font-medium rounded-lg cursor-pointer"
        onclick="fetch('/vote/book/{{this.book.id}}/yes')"
        @click="hasVoted = true"
      >I should have just read the summary
      </button>
      <button
        class="w-full px-4 py-1 bg-gray-100 font-medium rounded-lg cursor-pointer"
        onclick="fetch('/vote/book/{{this.book.id}}/no')"
        @click="hasVoted = true"
      >I'm happy I read the full book!
      </button>
    </div>
  </div>
  {{! <div class="space-y-2">
    <p>Did you decide to only read the summary based on this information?</p>
    <button
      class="px-4 py-1 bg-gray-100 text-gray-500 font-medium rounded-lg cursor-pointer"
    >Yes</button>
    <button
      class="px-4 py-1 bg-gray-100 text-gray-500 font-medium rounded-lg cursor-pointer"
    >No</button>
  </div> }}
</div>